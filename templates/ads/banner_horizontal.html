{% load static %}
{% load thumbnail %}

{% if banner.file and banner.ratio == 0 %}
    {% with banner.owner as person %}
        <a class="banner-link"
           href="{% if person.site %}{{ person.site }}{% else %}{{ person.get_absolute_url }}{% endif %}"
           target="_blank">
            <figure class="ads-banner centered">
                {% thumbnail banner.file "320" as xs %}
                    {% thumbnail banner.file "576" as sm %}
                        {% thumbnail banner.file "768" as md %}
                            <img class="lazyload"
                                 data-src="{% get_media_prefix %}{{ banner.file }}"
                                 data-srcset="{{ xs.url }} {{ xs.x }}w, {{ sm.url }} {{ sm.x }}w, {{ md.url }} {{ md.x }}w"
                                 data-sizes="auto"
                                 data-expand="-50"
                                 loading="lazy"
                                 alt="{{ banner.title }}"
                            >
                        {% empty %}
                        {% endthumbnail %}
                    {% endthumbnail %}
                {% endthumbnail %}
            </figure>
        </a>
    {% endwith %}
{% endif %}

